<div className="relative max-w-screen-xl flex h-full">
    <nav className="dirtree hidden md:flex w-[300px] md:shrink-0 md:justify-center h-100% min-h-screen border-r-2 border-elevated">
        <ul>
            <li>
                <span className="w-full flex justify-center"> 
                    <Link href="/"> wiki.danielc.rocks </Link>
                </span>
                <ul>
                    {% for child in dirTree['children'] recursive %}
                        {% if child['is_dir'] %}
                            <Accordion title="{{child['name']}}" href="{{child['path']}}" isFolder={true} isSelected={ {{"true" if pathStr==child['path'] else "false"}} } isOpenByDefault={ {{"true" if child['depth'] < 2 or (pathStr and pathStr.startswith(child['path'])) else "false"}} } >
                                {% if child['children'] %}
                                    {{ loop(child['children']) }}
                                {% endif %}
                            </Accordion>
                        {% else %}
                            <Accordion title="{{child['name']}}" href="{{child['path']}}" isFolder={false} isSelected={ {{"true" if pathStr==child['path'] else "false"}} } />
                        {% endif %}
                    {% endfor %}
                </ul>
            </li>
        </ul>
    </nav>

    <article className="w-full min-w-0 max-w-6xl px-6 pt-3">

        {% if pathList %}
            <div className="flex flex-wrap items-center align-middle space-x-1 mb-3">
                {% for folderName in pathList %}
                    <span className="relative top-[0.1em] text-elevated"> <FaChevronRight size={12}/> </span>
                    <p className="text-lg font-bold text-secondary"><Link href="{{'/'+'/'.join(pathList[:loop.index])}}">{{ folderName }}</Link></p>
                {% endfor %}
            </div>
        {% endif %}

        {% if time %}
            <p className="text-elevated mb-3">Last modified on {{time}}</p>
        {% endif %}

        <div className="article mb-4">
            {{ content }}
        </div>

        {% if parent_path %}
            <div className="flex justify-start">
                <Link href="{{parent_path}}">
                    <div className="flex items-center justify-center space-x-1 text-elevated">
                        <RiArrowGoBackFill/>
                        <p>up a level</p>
                    </div>
                </Link>
            </div>
        {% endif %}

    </article>
</div>